import{v as f,B as D,r as I,J as V,a as l,o as k,g as B,e as s,d as e,w as a,A as m,t as n,h as g,j,Y as E,E as M}from"./index.165355ae.js";import{A as N}from"./AddAddress.b3fda2b4.js";const $={class:"w-full bg-gray-100"},q={class:"right-page flex flex-row"},F={class:"card-header flex flex-row justify-between"},L=s("span",null,"\u6211\u7684\u6536\u8D27\u5730\u5740",-1),S=s("span",{style:{color:"#ff6700"}},"\u65B0\u589E\u5730\u5740",-1),z={class:"flex flex-row justify-start items-center"},J={class:"ml-10"},P={class:"ml-10"},T={class:"ml-10"},U={class:"flex flex-row justify-between items-center mt-[10px]"},Y={class:"text-[14px]"},Q={__name:"AddressInfoList",setup(G){const u=f({pageIndex:1,address_name:"",address_tel:"",address_info:"",address_tag:""}),d=f({listData:[],pageCount:0,totalCount:0}),_=async()=>{let o=await m.addressInfo.getMyAddressInfoList(u.pageIndex);d.listData=o.listData,d.pageCount=o.pageCount,d.totalCount=o.totalCount};D(()=>{_()});const x=o=>{u.pageIndex=o,_()},h=async o=>{await m.addressInfo.deleteById({id:o}),_(),M({message:"\u5220\u9664\u6210\u529F",type:"success"})},c=I(!1);return V(c,(o,r)=>{o===!1&&_()}),(o,r)=>{const p=l("el-button"),i=l("el-table-column"),b=l("el-tag"),C=l("el-popconfirm"),y=l("el-table"),v=l("el-pagination"),w=l("el-dialog"),A=l("el-card");return k(),B("div",$,[s("div",q,[e(A,{class:"box-card w-[1006px] h-full min-h-[500px]"},{header:a(()=>[s("div",F,[L,e(p,{onClick:r[0]||(r[0]=t=>c.value=!0),class:"button",text:""},{default:a(()=>[S]),_:1})])]),default:a(()=>[e(y,{border:"",data:d.listData,stripe:"",style:{width:"100%"}},{default:a(()=>[e(i,{label:"\u6536\u4EF6\u4EBA\u59D3\u540D",prop:"address_name",width:"180"}),e(i,{label:"\u6536\u4EF6\u4EBA\u7535\u8BDD",prop:"address_tel",width:"180"}),e(i,{label:"\u6536\u8D27\u5730\u5740"},{default:a(({row:t})=>[s("ul",z,[s("li",null,n(t.province),1),s("li",J,n(t.city),1),s("li",P,n(t.area),1),s("li",T,n(t.address_detail),1)])]),_:1}),e(i,{label:"\u5730\u5740\u6807\u7B7E",align:"center",width:"130px"},{default:a(({row:t})=>[e(b,null,{default:a(()=>[g(n(t.address_tag),1)]),_:2},1024)]),_:1}),e(i,{label:"\u64CD\u4F5C",width:"130px"},{default:a(({row:t})=>[e(C,{onConfirm:H=>h(t.id),"confirm-button-text":"\u786E\u5B9A","cancel-button-text":"\u53D6\u6D88",icon:j(E),"icon-color":"#626AEF",title:"\u786E\u5B9A\u5220\u9664\u5417?"},{reference:a(()=>[e(p,{type:"danger",size:"small"},{default:a(()=>[g("\u5220\u9664 ")]),_:1})]),_:2},1032,["onConfirm","icon"])]),_:1})]),_:1},8,["data"]),s("div",U,[s("div",Y,"\u5F53\u524D\u7B2C"+n(u.pageIndex)+"\u9875\uFF0C\u5171"+n(d.pageCount)+"\u9875\uFF0C\u5171"+n(d.totalCount)+"\u6761 ",1),e(v,{background:"",layout:"prev, pager, next",total:d.totalCount,onCurrentChange:x},null,8,["total"])]),e(w,{"destroy-on-close":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,modelValue:c.value,"onUpdate:modelValue":r[2]||(r[2]=t=>c.value=t)},{default:a(()=>[e(N,{onCloseDialog:r[1]||(r[1]=t=>c.value=!1)})]),_:1},8,["modelValue"])]),_:1})])])}}};export{Q as default};
